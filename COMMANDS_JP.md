# JiETNG コマンド完全リスト

このドキュメントは、JiETNG LINE Bot で利用可能なすべてのコマンドを記載しています。

[简体中文](COMMANDS.md) | [English](COMMANDS_EN.md) | 日本語

---

## 目次

- [基本コマンド](#基本コマンド)
- [アカウント管理](#アカウント管理)
- [スコア照会](#スコア照会)
- [楽曲検索](#楽曲検索)
- [バージョン達成](#バージョン達成)
- [フレンド機能](#フレンド機能)
- [ユーティリティコマンド](#ユーティリティコマンド)
- [管理者コマンド](#管理者コマンド)

---

## 基本コマンド

### サポート機能

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `donate` | `ドネーション` | 寄付情報を表示し、JiETNG の開発と未来をサポート |

---

## アカウント管理

### 連携と表示

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `bind` | `segaid bind`, `バインド` | SEGAアカウントを連携 |
| `get me` | `getme`, `ゲットミー` | 現在のアカウント連携情報を表示 |
| `unbind` | `アンバインド` | アカウント連携を解除 |

### データ更新

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `maimai update` | `update`, `record update`, `マイマイアップデート`, `レコードアップデート`, `アップデート` | maimai NETから最新のスコアデータを同期 |

**説明**：
- データ更新コマンドはSEGAアカウント連携が必要です
- 更新プロセスは1〜2分かかる場合があります
- 頻度制限：30秒以内に最大2回のリクエスト

---

## スコア照会

### 標準スコア図

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `b50` | `best50`, `best 50`, `ベスト50` | Best 35（旧譜面）+ Best 15（新譜面） |
| `b100` | `best100`, `best 100`, `ベスト100` | Best 70（旧譜面）+ Best 30（新譜面） |
| `b35` | `best35`, `best 35`, `ベスト35` | 旧譜面Best 35のみ |
| `b15` | `best15`, `best 15`, `ベスト15` | 新譜面Best 15のみ |

### 特殊スコア図

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `ab35` | `allb35`, `all best 35`, `オールベスト35` | 全バージョン混合のBest 35 |
| `ab50` | `allb50`, `all best 50`, `オールベスト50` | 全バージョン混合のBest 50 |
| `ab100` | `allb100`, `all best 100`, `オールベスト100` | 全バージョン混合のBest 100 |
| `ab200` | `allb200`, `all best 200`, `オールベスト200` | 全バージョン混合のBest 200 |
| `ap50` | `apb50`, `all perfect 50`, `オールパーフェクト50` | AP/APPのみのBest 50 |
| `rct50` | `r50`, `recent50`, `recent 50` | 最近50回のプレイ記録 |
| `idealb50` | `idlb50`, `ideal best 50`, `理想的ベスト50` | 理想スコアBest 50（自動的に次のランクに昇格） |
| `unknown` | `unknown songs`, `unknown data`, `未発見` | 認識されていない楽曲のスコア |

### 高度なフィルター

すべてのスコア図コマンドで以下のフィルターパラメータを使用できます：

| パラメータ | 説明 | 例 |
|-----------|------|-----|
| `-lv [min] [max]` | 譜面定数で絞り込み（max省略可、省略時は上限なし） | `b50 -lv 13.2 13.8` または `b50 -lv 13.2` |
| `-ra [min] [max]` | Ratingで絞り込み（max省略可、省略時は上限なし） | `b50 -ra 301 312` または `b50 -ra 301` |
| `-scr [min] [max]` | 達成率で絞り込み（max省略可、省略時は上限なし） | `b50 -scr 100.3 100.8` または `b50 -scr 100.3` |
| `-dx [min] [max]` | DXスコアのパーセンテージで絞り込み（max省略可、省略時は上限なし） | `b50 -dx 92 95` または `b50 -dx 92` |
| `-ver [version...]` | ゲームバージョンで絞り込み（複数指定可） | `b50 -ver splash splash+` または `b50 -ver buddies` |

**注意**：すべてのフィルターパラメータは単一パラメータモード（下限のみ、上限なし）をサポートしています：
- `-lv 13.2` は譜面定数 ≥13.2（上限なし）を意味します
- `-ra 301` は Rating ≥301（上限なし）を意味します
- `-scr 100.3` は達成率 ≥100.3%（上限なし）を意味します
- `-dx 92` は DXスコア ≥92%（上限なし）を意味します

#### フィルター組み合わせ例

```
b50 -lv 13.2 13.8                    # 譜面定数13.2〜13.8のB50
b50 -lv 13.2                         # 譜面定数 ≥13.2のB50（上限なし）
b50 -ra 301 312                      # Rating 301〜312のB50
b50 -ra 301                          # Rating ≥301のB50（上限なし）
b50 -scr 100.3 100.8                 # 達成率100.3%〜100.8%のB50
b50 -scr 100.3                       # 達成率 ≥100.3%のB50（上限なし）
b50 -dx 92 95                        # DXスコア92%〜95%のB50
b50 -dx 92                           # DXスコア ≥92%のB50（上限なし）
b50 -ver buddies                     # Buddiesバージョンのみのb50
b50 -ver splash splash+              # SplashとSplash PLUSバージョンのB50
b50 -lv 13.2 13.8 -scr 100.0         # 譜面定数13.2〜13.8かつ達成率 ≥100%のB50
b100 -lv 13.0 14.9 -dx 92 95         # 譜面定数13.0〜14.9かつDX 92%〜95%のB100
idealb50 -lv 13.5 14.0               # 譜面定数13.5〜14.0の理想スコアB50
b50 -ver buddies -lv 14.0            # Buddiesバージョンかつ譜面定数 ≥14.0のB50
```

### Yang Rating（過去バージョンRating）

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `yang` | `yrating`, `yra`, `ヤンレーティング` | Yang Rating図を生成（バージョン別集計） |

---

## 楽曲検索

### 楽曲情報

| コマンド形式 | エイリアス | 説明 | 例 |
|------------|-----------|------|-----|
| `[曲名]ってどんな曲` | `[曲名]info`, `[曲名]song-info` | 楽曲の詳細情報を検索 | `ヒバナってどんな曲` |
| `[曲名]のレコード` | `[曲名]record`, `[曲名]song-record` | 個人スコアを表示 | `ヒバナのレコード` |

### レベル別スコアリスト

| コマンド形式 | エイリアス | 説明 | 例 |
|------------|-----------|------|-----|
| `[レベル]のレコードリスト` | `[レベル]record-list`, `[レベル]records` | 指定レベルのすべてのスコアを表示 | `13のレコードリスト` |
| `[レベル]のレコードリスト [ページ]` | `[レベル]record-list [ページ]`, `[レベル]records [ページ]` | レベルのスコアを表示（Nページ目） | `13のレコードリスト 2` |

**説明**：レベルは整数（1〜15）または小数を指定できます。整数の場合はレベルリスト、小数の場合は定数リストが表示されます。

---

## バージョン達成

### 称号達成状況

**コマンド形式**：`[バージョン姓名框]の達成状況`

**エイリアス**：`の達成状況`の代わりに`achievement-list`または`achievement`を使用できます

| 称号タイプ | コマンド例 | 説明 |
|----------|-----------|------|
| 極（Extreme） | `宴極の達成状況` | 「宴極」称号の達成状況を表示 |
| 将（Master） | `双将の達成状況` | 「双将」称号の達成状況を表示 |
| 神（God） | `鏡神の達成状況` | 「鏡神」称号の達成状況を表示 |
| 舞舞（Dancer） | `彩舞舞の達成状況` | 「彩舞舞」称号の達成状況を表示 |

**その他の例**：
```
宴極の達成状況                # 宴 極
双将の達成状況                # 双 将
鏡神の達成状況                # 鏡 神
彩舞舞の達成状況              # 彩 舞舞
真極の達成状況                # 真 極
真将の達成状況                # 真 将
真神の達成状況                # 真 神
真舞舞の達成状況              # 真 舞舞
```

**英語エイリアス例**：
```
宴極achievement-list            # 宴極の達成状況と同じ
双将achievement                 # 双将の達成状況と同じ
```

### バージョン楽曲リスト

| コマンド形式 | エイリアス | 説明 | 例 |
|------------|-----------|------|-----|
| `[バージョン]のバージョンリスト` | `[バージョン]version-list`, `[バージョン]version` | そのバージョンのすべての楽曲を表示 | `PRiSM PLUSのバージョンリスト` |

**バージョン例**：
```
PRiSM PLUSのバージョンリスト
FESTiVAL PLUSのバージョンリスト
BUDDiESのバージョンリスト
UNiVERSEのバージョンリスト
```

---

## フレンド機能

### フレンド管理

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `friend list` | `friendlist`, `フレンドリスト` | 追加済みフレンドリストを表示 |
| `add-friend [フレンドコード]` | `フレンド申請 [フレンドコード]`, `friend request [フレンドコード]` | フレンド申請を送信 |
| `friend-b50 [フレンドコード]` | `friend b50 [フレンドコード]`, `フレンドb50 [フレンドコード]` | フレンドのB50を表示 |

**例**：
```
friend list                   # フレンドリストを表示
add-friend 1234567890123456   # フレンド申請を送信
friend-b50 1234567890123456   # フレンドのB50を表示
```

**説明**：
- フレンドコードは16桁の数字です
- SEGAアカウント連携が必要です
- **フレンド申請システム**を使用：申請送信後、相手が通知を受け取り承認/拒否を選択
- 双方が申請を送信した場合、システムは自動的に承認します
- フレンドデータは自動的にキャッシュされます

---

## ユーティリティコマンド

### Rating計算

| コマンド | 説明 | 例 |
|---------|------|-----|
| `rc [定数]` | 指定定数のRating対照表を表示 | `rc 13.2` |
| `RC [定数]` | Rating対照表（大文字） | `RC 13.2` |
| `Rc [定数]` | Rating対照表（頭文字大文字） | `Rc 13.2` |

### スコア計算

| コマンド | 説明 | 例 |
|---------|------|-----|
| `calc [tap] [hold] [slide] [break]` | 4キースコア計算（touchなし） | `calc 500 100 200 50` |
| `calc [tap] [hold] [slide] [touch] [break]` | 5キースコア計算（touchあり） | `calc 500 100 200 50 50` |

**説明**：
- 計算機は各種ミス（Great/Good/Miss）に対応する達成率を表示します
- 4パラメータ（touchなし）と5パラメータ（touchあり）の両方の形式をサポートしています

### ランダム選曲

| コマンド | 説明 | 例 |
|---------|------|-----|
| `ランダム曲` | ランダムに楽曲を選択 | `ランダム曲` |
| `ランダム` | ランダムに楽曲を選択（省略形） | `ランダム` |
| `random-song` | ランダムに楽曲を選択（英語） | `random-song` |
| `random` | ランダムに楽曲を選択（英語省略形） | `random` |

### カード生成

| コマンド | エイリアス | 説明 |
|---------|-----------|------|
| `maid card` | `maid`, `mai pass`, `maipass`, `マイパス`, `マイカード` | maimaiパスカードを生成 |

### 画像認識

| 機能 | 説明 |
|------|------|
| 画像を送信 | 画像内のQRコードを自動スキャンし、フレンド追加リンクやその他のデータを識別 |

**説明**：
- フレンドのカードのスクリーンショットをBotに送信すると、自動的にフレンド追加リンクを認識します
- QRコードを含む任意の画像のスキャンに対応

### 位置情報サービス

| 機能 | 説明 |
|------|------|
| 位置情報を送信 | 近くのmaimai設置店舗を検索（最大4件表示） |

**説明**：
- LINEで「+」ボタンをタップし、「位置情報」を選択
- 現在地または任意の位置を送信
- Botは近くのmaimai設置店舗情報（名前、住所、距離、地図リンク）を返信します

---

## 管理者コマンド

**注意**：以下のコマンドは管理者専用です

| コマンド | 説明 |
|---------|------|
| `upload notice [内容]` | 新しいお知らせをアップロードし、すべてのユーザーの既読状態をリセット |
| `dxdata update` | dxdataデータベースを手動更新し、変更を比較 |

---

## クイックリファレンス

### よく使うコマンド

```
donate                     # 寄付サポート方法を表示
bind                       # SEGAアカウントを連携
update                     # スコアデータを更新
b50                        # B50を表示
ヒバナってどんな曲          # 楽曲情報を表示
ヒバナのレコード            # 個人スコアを表示
宴極の達成状況             # 宴極達成状況を表示
friend list                # フレンドリスト
maid card                  # カードを生成
```

### フィルター例

```
b50 -lv 13.2 13.8          # 譜面定数 13.2〜13.8
b50 -lv 13.2               # 譜面定数 ≥13.2（上限なし）
b50 -ra 301 312            # Rating 301〜312
b50 -ra 301                # Rating ≥301（上限なし）
b50 -scr 100.3 100.8       # 達成率 100.3%〜100.8%
b50 -scr 100.3             # 達成率 ≥100.3%（上限なし）
b50 -dx 92 95              # DXスコア 92%〜95%
b50 -dx 92                 # DXスコア ≥92%（上限なし）
```

---

**最終更新日**：2025-10-27
**バージョン**：main.py解析に基づいて生成
