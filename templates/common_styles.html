<!-- Theme color for browser chrome (移动浏览器主题色) -->
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#f5f5f5" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0f0f0f" media="(prefers-color-scheme: dark)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="format-detection" content="telephone=no">

<style>
  /* ========================================
     Common Base Styles - 通用基础样式
     由所有页面共享的基础样式和 CSS 变量
     ======================================== */

  /* CSS 变量定义 - CSS Variables */
  :root {
    color-scheme: light dark;

    /* 浅色模式背景 - Light Mode Backgrounds */
    --bg-gradient-1: #FFFFFF;
    --bg-gradient-2: #F8F9FA;
    --bg-gradient-3: #F1F3F5;
    --bg-gradient-4: #E9ECEF;

    /* 基础文字颜色 - Base Text Colors */
    --text-color: #1F2937;
    --text-secondary: #6B7280;
    --text-tertiary: #9CA3AF;

    /* 卡片和表面 - Cards & Surfaces */
    --glass-bg: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(0, 0, 0, 0.08);
    --card-bg: #FFFFFF;
    --surface-bg: #F8F9FA;

    /* 主题色 - Theme Colors */
    --accent-color: #F59E0B;
    --accent-hover: #D97706;
    --accent-light: #FEF3C7;

    /* 品牌色 - Brand Colors */
    --burgundy: #660033;
    --crimson: #990000;
    --deep-red: #810020;

    /* 状态颜色 - Status Colors */
    --success-color: #10B981;
    --success-light: #D1FAE5;
    --warning-color: #F59E0B;
    --warning-light: #FEF3C7;
    --danger-color: #EF4444;
    --danger-light: #FEE2E2;
    --error-color: #EF4444;
    --error-light: #FEE2E2;
    --info-color: #3B82F6;
    --info-light: #DBEAFE;

    /* 阴影 - Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

    /* 边框 - Borders */
    --border-color: #E5E7EB;
    --border-hover: #D1D5DB;

    /* 间距 - Spacing */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;

    /* 过渡 - Transitions */
    --transition-fast: 0.15s ease-out;
    --transition-base: 0.2s ease-out;
    --transition-slow: 0.3s ease-out;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      /* 深色模式背景 - Dark Mode Backgrounds */
      --bg-gradient-1: #0F172A;
      --bg-gradient-2: #1E293B;
      --bg-gradient-3: #334155;
      --bg-gradient-4: #475569;

      /* 基础文字颜色 - Base Text Colors */
      --text-color: #F1F5F9;
      --text-secondary: #CBD5E1;
      --text-tertiary: #94A3B8;

      /* 卡片和表面 - Cards & Surfaces */
      --glass-bg: rgba(30, 41, 59, 0.8);
      --glass-border: rgba(255, 255, 255, 0.1);
      --card-bg: #1E293B;
      --surface-bg: #0F172A;

      /* 主题色 - Theme Colors */
      --accent-color: #FBBF24;
      --accent-hover: #F59E0B;
      --accent-light: #451A03;

      /* 状态颜色 - Status Colors */
      --success-color: #34D399;
      --success-light: #064E3B;
      --warning-color: #FBBF24;
      --warning-light: #451A03;
      --danger-color: #F87171;
      --danger-light: #7F1D1D;
      --error-color: #F87171;
      --error-light: #7F1D1D;
      --info-color: #60A5FA;
      --info-light: #1E3A8A;

      /* 阴影 - Shadows */
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6);

      /* 边框 - Borders */
      --border-color: #334155;
      --border-hover: #475569;
    }
  }

  /* 全局重置 - Global Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* ========================================
     Safari 安全区域修复 - Safari Safe Area Fix
     html 和 body 都必须有相同的背景色
     ======================================== */

  /* HTML 纯色背景 - 作为备用，实际渐变在 body::before */
  html {
    min-height: 100vh;
    min-height: -webkit-fill-available;
    /* 关键：padding 让 html 延伸到 safe-area 区域 */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    /* 纯色背景作为备用 */
    background: var(--bg-gradient-1);
  }

  /* Body 样式 - Body Styles */
  body {
    background: var(--bg-gradient-1);
    color: var(--text-color);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", "Yu Gothic", "Meiryo", "Hiragino Kaku Gothic ProN", Arial, sans-serif;
    font-size: 14px;
    line-height: 1.6;
    min-height: 100vh;
    min-height: -webkit-fill-available;
    position: relative;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 全局过渡动画 - Global Transitions */
  * {
    transition: background-color var(--transition-base),
                border-color var(--transition-base),
                color var(--transition-base);
  }

  /* 移除动画以减少干扰 - Remove distracting animations */
  *:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }

  *:focus:not(:focus-visible) {
    outline: none;
  }

  *:focus-visible {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }
</style>
